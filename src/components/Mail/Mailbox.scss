// ==============================
// VARIABLES
// ==============================
$mailbox-bg: #f4f6f8;
$sidebar-bg: #fff;
$sidebar-border: #e5e7eb;
$sidebar-active: #007bff;
$sidebar-active-text: #fff;
$button-bg: #007bff;
$button-text: #fff;
$item-hover: #f1f5f9;
$item-unread: #e0f2ff;
$font-main: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;

// ==============================
// GLOBAL
// ==============================
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: $font-main;
  background: $mailbox-bg;
  color: #1f2937;
}

// ==============================
// MAILBOX WRAPPER
// ==============================
.mailbox {
  display: flex;
  height: 100vh;
  width: 100%;

  // ==========================
  // SIDEBAR
  // ==========================
  &__sidebar {
    width: 250px;
    background: $sidebar-bg;
    border-right: 1px solid $sidebar-border;
    display: flex;
    flex-direction: column;
    padding: 20px;
    gap: 10px;

    .compose {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      background: $button-bg;
      color: $button-text;
      padding: 10px 15px;
      font-weight: 600;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.2s;
      &:hover { background: darken($button-bg, 10%); }
    }

    button {
      display: flex;
      align-items: center;
      gap: 8px;
      background: none;
      border: none;
      padding: 8px 12px;
      border-radius: 6px;
      text-align: left;
      font-size: 14px;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;

      &:hover { background: $item-hover; }

      &.active {
        background: $sidebar-active;
        color: $sidebar-active-text;
      }
    }
  }

  // ==========================
  // CONTENT
  // ==========================
  &__content {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    padding: 20px;

    .status {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 15px;
      border-radius: 6px;
      font-weight: 600;
      margin-bottom: 15px;

      &.success { background: #d1fae5; color: #065f46; }
      &.error { background: #fee2e2; color: #b91c1c; }
    }

    // ==========================
    // COMPOSE FORM
    // ==========================
    form.compose {
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.05);

      h2 {
        margin-bottom: 15px;
        font-size: 20px;
        font-weight: 600;
      }

      label {
        display: flex;
        align-items: center;
        gap: 6px;
        font-weight: 600;
        margin-top: 10px;
      }

      input, textarea {
        width: 100%;
        padding: 10px;
        margin-top: 5px;
        border: 1px solid $sidebar-border;
        border-radius: 6px;
        font-size: 14px;
        resize: vertical;
        &:focus {
          outline: none;
          border-color: $button-bg;
          box-shadow: 0 0 5px rgba(0,123,255,0.3);
        }
      }

      button {
        margin-top: 15px;
        display: flex;
        align-items: center;
        gap: 6px;
        padding: 8px 15px;
        border: none;
        border-radius: 6px;
        background: $button-bg;
        color: $button-text;
        cursor: pointer;
        font-weight: 600;
        transition: background 0.2s;
        &:hover { background: darken($button-bg, 10%); }
      }
    }

    // ==========================
    // LIST + VIEWER PANEL
    // ==========================
    &__panel {
      display: flex;
      flex: 1;
      overflow: hidden;
      margin-top: 10px;

      .mailbox__list {
        width: 300px;
        background: #fff;
        border-right: 1px solid $sidebar-border;
        overflow-y: auto;

        .item {
          display: flex;
          align-items: center;
          padding: 12px;
          gap: 10px;
          border-bottom: 1px solid $sidebar-border;
          cursor: pointer;
          transition: background 0.2s;

          &.unread { background: $item-unread; font-weight: 600; }

          &:hover { background: $item-hover; }

          .mail-icon { font-size: 18px; }

          div {
            flex: 1;
            strong { display: block; font-size: 14px; }
            span { display: block; font-size: 12px; color: #6b7280; }
          }

          time { font-size: 11px; color: #9ca3af; }
        }
      }

      .mailbox__viewer {
        flex: 1;
        background: #f9fafb;
        padding: 20px;
        overflow-y: auto;
        border-radius: 10px;

        .empty {
          text-align: center;
          margin-top: 50px;
          font-size: 18px;
          color: #9ca3af;
        }

        h2 {
          margin-bottom: 10px;
          font-size: 18px;
          font-weight: 600;
        }

        .meta {
          display: flex;
          gap: 20px;
          font-size: 13px;
          color: #6b7280;
          margin-bottom: 15px;
        }

        .content {
          background: #fff;
          padding: 15px;
          border-radius: 8px;
          box-shadow: 0 2px 6px rgba(0,0,0,0.05);
          pre { white-space: pre-wrap; word-wrap: break-word; }
        }

        .actions {
          margin-top: 15px;
          display: flex;
          flex-wrap: wrap;
          gap: 10px;

          button, select {
            padding: 6px 10px;
            border-radius: 6px;
            border: 1px solid $sidebar-border;
            cursor: pointer;
            font-size: 13px;
          }

          button {
            display: flex;
            align-items: center;
            gap: 4px;
            background: $button-bg;
            color: $button-text;
            border: none;
            &:hover { background: darken($button-bg, 10%); }
          }

          select { background: #fff; }
        }
      }
    }
  }

  // ==========================
  // RESPONSIVE
  // ==========================
  @media (max-width: 1024px) {
    flex-direction: column;

    &__sidebar {
      width: 100%;
      flex-direction: row;
      overflow-x: auto;
      padding: 10px;
    }

    &__panel { flex-direction: column; }

    .mailbox__list { width: 100%; max-height: 200px; }

    .mailbox__viewer { padding: 10px; }
  }
}
